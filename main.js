(()=>{"use strict";const e=document.createElement("img");e.src="https://raw.githubusercontent.com/AplusIv/ahj-homeworks/simplification/dom/pic/goblin.png",e.alt="Goblin pic";const t=new class{constructor(e,t,i,n){if("string"==typeof e){const t=document.createElement("ul");t.classList=e,this.element=t}this.fieldHolesNumber=t,this.imgElement=i,this.movingHandler=n,this.holes=e.children}renderField(){for(let e=0;e<=this.fieldHolesNumber;e+=1){const t=document.createElement("li");t.classList="hole",t.dataset.position=e,this.element.appendChild(t)}document.body.insertBefore(this.element,document.querySelector("h1").nextElementSibling)}renderImg(){this.interval&&clearInterval(this.interval),this.interval=setInterval((()=>this.movingHandler(this.element.children,this.imgElement)),2e3)}removeImg(e){this.imgElement=e.removeChild(this.imgElement)}getRandom(){return Math.round(Math.random()*this.fieldHolesNumber)}getNewPosition(){const e=this.getRandom();return e===this.previous?(console.log(`Одинаковые this.getRandom() = ${e} и this.previous = ${this.previous}, повторям рандом`),this.getNewPosition()):(console.log(`возвращаю ${e} позицию для отрисовки в новом месте`),e)}}("container",15,e,(function(e,t){this.newRandomPosition=this.getNewPosition();for(const i of e)i.dataset.position===String(this.newRandomPosition)&&(i.appendChild(t),this.previous=this.newRandomPosition)}));console.log(t),t.renderField(),t.renderImg()})();